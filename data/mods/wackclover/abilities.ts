export const Abilities: {[k: string]: ModdedAbilityData} = {
	/* Disabled abilities */
	asoneglastrier: {
		inherit: true,
		isNonstandard: "Past",
	},
	asonespectrier: {
		inherit: true,
		isNonstandard: "Past",
	},
	battlebond: {
		inherit: true,
		isNonstandard: "Past",
	},
	chillingneigh: {
		inherit: true,
		isNonstandard: "Past",
	},
	cottondown: {
		inherit: true,
		isNonstandard: "Past",
	},
	dauntlessshield: {
		inherit: true,
		isNonstandard: "Past",
	},
	desolateland: {
		inherit: true,
		isNonstandard: "Past",
	},
	dragonsmaw: {
		inherit: true,
		isNonstandard: "Past",
	},
	gorillatactics: {
		inherit: true,
		isNonstandard: "Past",
	},
	grimneigh: {
		inherit: true,
		isNonstandard: "Past",
	},
	gulpmissile: {
		inherit: true,
		isNonstandard: "Past",
	},
	honeygather: {
		inherit: true,
		isNonstandard: "Past",
	},
	hungerswitch: {
		inherit: true,
		isNonstandard: "Past",
	},
	iceface: {
		inherit: true,
		isNonstandard: "Past",
	},
	intrepidsword: {
		inherit: true,
		isNonstandard: "Past",
	},
	mimicry: {
		inherit: true,
		isNonstandard: "Past",
	},
	mirrorarmor: {
		inherit: true,
		isNonstandard: "Past",
	},
	mountaineer: {
		inherit: true,
		isNonstandard: "Future",
	},
	multitype: {
		inherit: true,
		isNonstandard: "Past",
	},
	noability: {
		inherit: true,
		isNonstandard: "Past",
	},
	parentalbond: {
		inherit: true,
		isNonstandard: "Past",
	},
	pastelveil: {
		inherit: true,
		isNonstandard: "Past",
	},
	perishbody: {
		inherit: true,
		isNonstandard: "Past",
	},
	persistent: {
		inherit: true,
		isNonstandard: "Future",
	},
	powerconstruct: {
		inherit: true,
		isNonstandard: "Past",
	},
	primordialsea: {
		inherit: true,
		isNonstandard: "Past",
	},
	propellertail: {
		inherit: true,
		isNonstandard: "Past",
	},
	punkrock: {
		inherit: true,
		isNonstandard: "Past",
	},
	ripen: {
		inherit: true,
		isNonstandard: "Past",
	},
	rkssystem: {
		inherit: true,
		isNonstandard: "Past",
	},
	sandspit: {
		inherit: true,
		isNonstandard: "Past",
	},
	schooling: {
		inherit: true,
		isNonstandard: "Past",
	},
	screencleaner: {
		inherit: true,
		isNonstandard: "Past",
	},
	shieldsdown: {
		inherit: true,
		isNonstandard: "Past",
	},
	stancechange: {
		inherit: true,
		isNonstandard: "Past",
	},
	steelyspirit: {
		inherit: true,
		isNonstandard: "Past",
	},
	transistor: {
		inherit: true,
		isNonstandard: "Past",
	},
	wanderingspirit: {
		inherit: true,
		isNonstandard: "Past",
	},
	zenmode: {
		inherit: true,
		isNonstandard: "Past",
	},
	/* Gen 9 Abilities */
	angershell: {
		inherit: true,
		isNonstandard: "Past",
	},
	armortail: {
		inherit: true,
		isNonstandard: "Past",
	},
	beadsofruin: {
		inherit: true,
		isNonstandard: "Past",
	},
	commander: {
		inherit: true,
		isNonstandard: "Past",
	},
	costar: {
		inherit: true,
		isNonstandard: "Past",
	},
	cudchew: {
		inherit: true,
		isNonstandard: "Past",
	},
	eartheater: {
		inherit: true,
		isNonstandard: "Past",
	},
	electromorphosis: {
		inherit: true,
		isNonstandard: "Past",
	},
	goodasgold: {
		inherit: true,
		isNonstandard: "Past",
	},
	guarddog: {
		inherit: true,
		isNonstandard: "Past",
	},
	hadronengine: {
		inherit: true,
		isNonstandard: "Past",
	},
	lingeringaroma: {
		inherit: true,
		isNonstandard: "Past",
	},
	myceliummight: {
		inherit: true,
		isNonstandard: "Past",
	},
	opportunist: {
		inherit: true,
		isNonstandard: "Past",
	},
	orichalcumpulse: {
		inherit: true,
		isNonstandard: "Past",
	},
	protosynthesis: {
		inherit: true,
		isNonstandard: "Past",
	},
	purifyingsalt: {
		inherit: true,
		isNonstandard: "Past",
	},
	quarkdrive: {
		inherit: true,
		isNonstandard: "Past",
	},
	rockypayload: {
		inherit: true,
		isNonstandard: "Past",
	},
	seedsower: {
		inherit: true,
		isNonstandard: "Past",
	},
	sharpness: {
		inherit: true,
		isNonstandard: "Past",
	},
	supremeoverlord: {
		inherit: true,
		isNonstandard: "Past",
	},
	swordofruin: {
		inherit: true,
		isNonstandard: "Past",
	},
	tabletsofruin: {
		inherit: true,
		isNonstandard: "Past",
	},
	thermalexchange: {
		inherit: true,
		isNonstandard: "Past",
	},
	toxicdebris: {
		inherit: true,
		isNonstandard: "Past",
	},
	vesselofruin: {
		inherit: true,
		isNonstandard: "Past",
	},
	wellbakedbody: {
		inherit: true,
		isNonstandard: "Past",
	},
	windpower: {
		inherit: true,
		isNonstandard: "Past",
	},
	windrider: {
		inherit: true,
		isNonstandard: "Past",
	},
	zerotohero: {
		inherit: true,
		isNonstandard: "Past",
	},
	toxicchain: {
		inherit: true,
		isNonstandard: "Past",
	},
	mindseye: {
		inherit: true,
		isNonstandard: "Past",
	},
	supersweetsyrup: {
		inherit: true,
		isNonstandard: "Past",
	},
	embodyaspectteal: {
		inherit: true,
		isNonstandard: "Past",
	},
	embodyaspecthearthflame: {
		inherit: true,
		isNonstandard: "Past",
	},
	embodyaspectwellspring: {
		inherit: true,
		isNonstandard: "Past",
	},
	embodyaspectcornerstone: {
		inherit: true,
		isNonstandard: "Past",
	},
	hospitality: {
		inherit: true,
		isNonstandard: "Past",
	},
	mrshield: {
		inherit: true,
		isNonstandard: "Past",
	},
	beyondultimate: {
		inherit: true,
		isNonstandard: "Past",
	},
	/* Modified abilities */
	flareboost: {
		inherit: true,
		onDamagePriority: 1,
		onDamage(damage, target, source, effect) {
			if (effect.id === 'brn') {
				return false;
			}
		},
	},
	flowergift: {
		inherit: true,
		onAllyModifyAtk(atk, pokemon) {
			if (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {
				return this.chainModify(1.5);
			}
		},
		onAllyModifySpD(spd, pokemon) {
			if (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {
				return this.chainModify(1.5);
			}
		},
	},
	forecast: {
		inherit: true,
		onUpdate(pokemon) {
			if (pokemon.transformed) return;
			if (pokemon.baseSpecies.baseSpecies === 'Castform') {
				let forme = null;
				switch (pokemon.effectiveWeather()) {
				case 'sunnyday':
				case 'desolateland':
					if (pokemon.species.id !== 'castformsunny') forme = 'Castform-Sunny';
					break;
				case 'raindance':
				case 'primordialsea':
					if (pokemon.species.id !== 'castformrainy') forme = 'Castform-Rainy';
					break;
				case 'hail':
					if (pokemon.species.id !== 'castformsnowy') forme = 'Castform-Snowy';
					break;
				default:
					if (pokemon.species.id !== 'castform') forme = 'Castform';
					break;
				}
				if (pokemon.isActive && forme) {
					pokemon.formeChange(forme, this.effect, false, '[msg]');
				}
			} else if (pokemon.baseSpecies.baseSpecies === 'Acufront') {
				let forme = null;
				switch (pokemon.effectiveWeather()) {
				case 'sunnyday':
				case 'desolateland':
					if (pokemon.species.id !== 'acufrontf') forme = 'Acufront-F';
					break;
				case 'raindance':
				case 'primordialsea':
					if (pokemon.species.id !== 'acufrontw') forme = 'Acufront-W';
					break;
				case 'hail':
					if (pokemon.species.id !== 'acufronti') forme = 'Acufront-I';
					break;
				default:
					if (pokemon.species.id !== 'acufront') forme = 'Acufront';
					break;
				}
				if (pokemon.isActive && forme) {
					pokemon.formeChange(forme, this.effect, false, '[msg]');
				}
			}
		},
	},
	galewings: {
		inherit: true,
		shortDesc: "This Pokemon's Flying-type moves have their priority increased by 1.",
		onModifyPriority(priority, pokemon, target, move) {
			if (move?.type === 'Flying') return priority + 1;
		},
	},
	illuminate: {
		inherit: true,
		rating: 3,
		onSourceModifyAccuracyPriority: -1,
		onSourceModifyAccuracy(accuracy) {
			if (typeof accuracy !== 'number') return;
			this.debug('illuminate - enhancing accuracy');
			return this.chainModify([0x14CD, 0x1000]);
		},
	},
	liquidooze: {
		inherit: true,
		onSourceTryHeal(damage, target, source, effect) {
			this.debug("Heal is occurring: " + target + " <- " + source + " :: " + effect.id);
			const canOoze = ['drain', 'leechseed', 'strengthsap', 'livewire']; // TODO: Cap-only
			if (canOoze.includes(effect.id)) {
				this.damage(damage);
				return 0;
			}
		},
	},
	protean: {
		inherit: true,
		onPrepareHit(source, target, move) {
			if (move.hasBounced || move.sourceEffect === 'snatch') return;
			const type = move.type;
			if (type && source.getTypes().join() !== type) {
				if (!source.setType(type)) return;
				this.add('-start', source, 'typechange', type, '[from] ability: Protean');
			}
		},
	},
	runaway: {
		inherit: true,
		onImmunity(type) {
			if (type === 'trapping') return false;
		},
	},
	soundproof: {
		inherit: true,
		onTryHit(target, source, move) {
			if (move.flags['sound']) {
				this.add('-immune', target, '[from] ability: Soundproof');
				return null;
			}
		},
	},
	toxicboost: {
		inherit: true,
		onDamagePriority: 1,
		onDamage(damage, target, source, effect) {
			if (effect.id === 'psn' || effect.id === 'tox') {
				return false;
			}
		},
	},
	trace: {
		inherit: true,
		onUpdate(pokemon) {
			if (!pokemon.isStarted || this.effectState.gaveUp) return;

			const additionalBannedAbilities = [
				// Zen Mode included here for compatability with Gen 5-6
				'noability', 'flowergift', 'forecast', 'hungerswitch', 'illusion', 'imposter', 'neutralizinggas', 'powerofalchemy', 'receiver', 'trace', 'zenmode', 'zenmonke', // TODO: Cap-only
			];
			const possibleTargets = pokemon.adjacentFoes().filter(target => (
				!target.getAbility().isPermanent && !additionalBannedAbilities.includes(target.ability)
			));
			if (!possibleTargets.length) return;

			const target = this.sample(possibleTargets);
			const ability = target.getAbility();
			this.add('-ability', pokemon, ability, '[from] ability: Trace', '[of] ' + target);
			pokemon.setAbility(ability);
		},
	},
	wonderguard: {
		inherit: true,
		onTryHit(target, source, move) {
			if (target === source || move.category === 'Status' || move.id === 'struggle') return;
			if (move.id === 'skydrop' && !source.volatiles['skydrop']) return;
			this.debug('Wonder Guard immunity: ' + move.id);
			if (target.runEffectiveness(move) <= 0) {
				if (move.smartTarget) {
					move.smartTarget = false;
				} else {
					this.add('-immune', target, '[from] ability: Wonder Guard');
				}
				return null;
			}
		},
	},
	magmaarmor: {

			inherit: true,
			onModifyAtkPriority: 5,
			onModifyAtk(atk, attacker, defender, move) {
				if (move.type === 'Fire' || move.type === 'Magma') {
					this.debug('Magma Armor boost');
					return this.chainModify(1.5);
				}
			},
			onModifySpAPriority: 5,
			onModifySpA(atk, attacker, defender, move) {
				if (move.type === 'Fire' || move.type === 'Magma') {
					this.debug('Magma Armor boost');
					return this.chainModify(1.5);
				}
			},
			onSourceModifyDamage(damage, source, target, move) {
				if (['Water', 'Ice'].includes(move.type)) {
					return this.chainModify(1, 2);
				}
			},
			shortDesc: "Immune to frz. Boosts Fire- and Magma-type moves. Ice and Fire-Type moves against this Pokemon deal damage with a halved offensive stat.",

	},
	/* Clover Exclusive Abilities */
	adminabuse: {
		inherit: true,
		isNonstandard: null,
	},
	anability: {
		inherit: true,
		isNonstandard: null,
	},
	anyability: {
		inherit: true,
		isNonstandard: null,
	},
	bigguy: {
		inherit: true,
		isNonstandard: null,
	},
	blademaster: {
		inherit: true,
		isNonstandard: null,
	},
	boombox: {
		inherit: true,
		isNonstandard: null,
	},
	bonezone: {
		inherit: true,
		isNonstandard: null,
		onModifyMovePriority: -5,
		onModifyMove(move, attacker, defender) {
			if (move.flags.bone || (move.type === 'Bone')) {
				this.dex.types.all().forEach(({name}) => {
					if (!move.ignoreImmunity) move.ignoreImmunity = {};
					if (move.ignoreImmunity !== true) {
						move.ignoreImmunity[name] = true;
					}
				});
				move.ignoreAbility = true;
			}
		},
	},
	concert: {
		inherit: true,
		isNonstandard: null,
	},
	degenerate: {
		inherit: true,
		isNonstandard: null,
		shortDesc: "This Pokemon's Normal and Heart-type moves become Dark type and have 1.2x power.",
		onModifyMovePriority: -1,
		onModifyMove(move) {
			const ignoredMoves = ['judgment', 'multiattack', 'naturalgift', 'revelationdance', 'technoblast', 'weatherball'];
			if (move.type === 'Normal'|| move.type === 'Heart' && !ignoredMoves.includes(move.id) && !(move.isZ && move.category !== 'Status')) {
				move.type = 'Dark';
			}
		},
		onBasePowerPriority: 8,
		onBasePower(basePower, pokemon, target, move) {
			const validTypes = ['Dark', 'Normal', 'Heart'];
			const ignoredMoves = ['judgment', 'multiattack', 'naturalgift', 'revelationdance', 'technoblast', 'weatherball'];
			if (validTypes.includes(move.type) && !ignoredMoves.includes(move.id) && !(move.isZ && move.category !== 'Status')) {
				return this.chainModify([0x1333, 0x1000]);
			}
		},
	},
	degradation: {
		inherit: true,
		isNonstandard: null,
	},
	flareheal: {
		inherit: true,
		isNonstandard: null,
	},
	ghostnote: {
		inherit: true,
		isNonstandard: null,
	},
	gradient: {
		inherit: true,
		isNonstandard: null,
		onStart(pokemon) {
			const possibleTargets = pokemon.side.foe.active.filter(foeActive => foeActive && pokemon.isAdjacent(foeActive));
			let rand = 0;
			if (possibleTargets.length > 1) rand = this.random(possibleTargets.length);
			const target = possibleTargets[rand];
			if (target && target.species) {
				const color = target.species.color;
				const colorType: Record<string, string> = {
					red: 'Magma',
					blue: 'Cosmic',
					yellow: 'Paper',
					green: 'Zombie',
					black: 'Shadow',
					brown: 'Ogre',
					purple: 'Virus',
					gray: 'Chaos',
					white: 'Divine',
					pink: 'Heart',
				};
				const type = colorType[this.toID(color)];
				if (type && pokemon.setType(type, false, pokemon, this.effect)) {
					this.add('-start', pokemon, 'typechange', type, '[from] ability: Gradient');
				}
			}
		},
		onModifyMove(move, pokemon) {
			if (pokemon.species.id === 'biteki') {
				if (['Ice', 'Psychic'].includes(move.type)) {
					move.forceSTAB = true;
				}
			} else if (pokemon.species.id === 'blobbosfools') {
				if (['Dark', '???'].includes(move.type)) {
					move.forceSTAB = true;
				}
			} else if (pokemon.species.id === 'blobbosartist') {
				if (['Normal', '???'].includes(move.type)) {
					move.forceSTAB = true;
				}
			}
		},
	},
	hydrophile: {
		inherit: true,
		isNonstandard: null,
	},
	inversion: {
		inherit: true,
		isNonstandard: null,
	},
	jewelry: {
		inherit: true,
		isNonstandard: null,
	},
	madman: {
		inherit: true,
		isNonstandard: null,
	},
	moreroom: {
		inherit: true,
		isNonstandard: null,
	},
	pollution: {
		inherit: true,
		onAnyEffectiveness(typemod, target, type, move) {
			const pollutionUser = this.effectState.target;

			if (pollutionUser !== this.activePokemon) return;

			if (move.type === 'Poison' && ['Water', 'Flying', 'Ground', 'Wind','Sound'].includes(type)) {
				return 1;
			}
		},
		shortDesc: "This Pokemon's Poison-type attacks are super-effective against Water-, Flying-, Wind-, Sound-, and Ground-types.",
		isNonstandard: null,
	},
	pozzed: {
		inherit: true,
		isNonstandard: null,
	},
	puppeteer: {
		inherit: true,
		isNonstandard: null,
		shortDesc: "This Pokemon's attacking stat is multiplied by 1.5 while using a Bug or Zombie-type attack.",
		onModifyAtkPriority: 5,
		onModifyAtk(atk, attacker, defender, move) {
			if (move.type === 'Bug' || move.type === 'Zombie') {
				this.debug('Puppeteer boost');
				return this.chainModify(1.5);
			}
		},
		onModifySpAPriority: 5,
		onModifySpA(atk, attacker, defender, move) {
			if (move.type === 'Bug'|| move.type === 'Zombie') {
				this.debug('Puppeteer boost');
				return this.chainModify(1.5);
			}
		},
	},
	showerpower: {
		inherit: true,
		isNonstandard: null,
	},
	striker: {
		inherit: true,
		isNonstandard: null,
	},
	suddenly: {
		inherit: true,
		isNonstandard: null,
	},
	waitforit: {
		inherit: true,
		isNonstandard: null,
	},
	woke: {
		inherit: true,
		isNonstandard: null,
	},
	woodenguard: {
		inherit: true,
		isNonstandard: null,
	},
	jihad: {
		inherit: true,
		isNonstandard: null,
	},
	phantasma: {
		inherit: true,
		shortDesc: "1.5x boost to Ghost, Shadow, and Fear-type moves. Immune to trapping. Curse is Ghost-type.",
			onModifyAtkPriority: 5,
			onModifyAtk(atk, attacker, defender, move) {
				if (move.type === 'Ghost' || move.type === 'Shadow'  || move.type === 'Fear') {
					this.debug('Phantasma boost');
					return this.chainModify(1.5);
				}
			},
			onModifySpAPriority: 5,
			onModifySpA(atk, attacker, defender, move) {
				if (move.type === 'Ghost' || move.type === 'Shadow'  || move.type === 'Fear') {
					this.debug('Phantasma boost');
					return this.chainModify(1.5);
				}
			},
			onImmunity(type) {
				if (type === 'trapped') return false;
			},
			// TODO: Make Curse Ghost-type
			isNonstandard: null,
		
	},

	shitstorm: {
		inherit: true,

		onStart() {
			this.field.addPseudoWeather('mudsport');
			this.field.addPseudoWeather('watersport');
			this.field.addPseudoWeather('magmasport');
			this.field.addPseudoWeather('steamsport');
		},
		
		isNonstandard: null,
	},
	fuku: {
		inherit: true,
		isNonstandard: null,
	},
	stinkbomb: {
		inherit: true,
		isNonstandard: null,
	},
	whiteflames: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowera: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerb: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerc: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerco: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerd: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerf: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerfa: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerfit: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerg: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerh: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerint: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerjp: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerk: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerout: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerpol: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerr9k: {
		inherit: true,
		isNonstandard: null,
	},
	boardpower5: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowers4s: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowersoc: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowersp: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowertrv: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowertv: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerv: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowervg: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowervp: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowervr: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerx: {
		inherit: true,
		isNonstandard: null,
	},
	boardpowerz: {
		inherit: true,
		isNonstandard: null,
	},
	justified: {
		inherit: true,
		onDamagingHit(damage, target, source, move) {
			if (['Dark', 'Chaos'].includes(move.type)) {
				this.boost({atk: 1});
			}
		},
		onSourceModifyAtkPriority: 6,
		onSourceModifyAtk(atk, attacker, defender, move) {
			if (move.type === 'Chaos') {
				this.debug('Justified weaken');
				return this.chainModify(0.5);
			}
		},
		onSourceModifySpAPriority: 5,
		onSourceModifySpA(atk, attacker, defender, move) {
			if (move.type === 'Chaos') {
				this.debug('Justified weaken');
				return this.chainModify(0.5);
			}
		},
		shortDesc: "Halves Chaos damage. +1 Atk stage after it is damaged by a Dark- or Chaos-type move.",
	},
	presage: {
		inherit: true,
		isNonstandard: null,
		onBeforeMove(source, target, move) {
			if (move.category === 'Status') return;
			const sunMoves = ['solarbeam', 'solarblade'];
			const rainMoves = ['thunder', 'hurricane'];
			const isInRain = ['raindance', 'primordialsea'].includes(target.effectiveWeather());
			const isInSun = ['sunnyday', 'desolateland'].includes(target.effectiveWeather());
			const isInHail = ['hail'].includes(target.effectiveWeather());

			if (!isInSun && (sunMoves.includes(move.id) || move.type === 'Fire')) {
				this.field.setWeather('sunnyday');
			} else if (!isInRain && (rainMoves.includes(move.id) || move.type === 'Water')) {
				this.field.setWeather('raindance');
			} else if (!isInHail && move.type === 'Ice') {
				this.field.setWeather('hail');
			} else if (move.type === 'Zombie' || move.type === 'Ghost' || move.type === 'Fear' || move.type === 'Dark') {
					this.field.setWeather('midnight');
			} else if (move.type === 'Poison') {
					this.field.setWeather('acidrain');
				} else if (move.type === 'Steel') {
					this.field.setWeather('bladerain');
			} else if (move.type === 'Normal' && move.id !== 'weatherball') {
				this.field.clearWeather();
			}

			if (source.transformed) return;
			if (source.baseSpecies.baseSpecies === 'Acufront') {
				let forme = null;
				switch (source.effectiveWeather()) {
				case 'sunnyday':
				case 'desolateland':
					if (source.species.id !== 'acufrontf') forme = 'Acufront-F';
					break;
				case 'raindance':
				case 'primordialsea':
					if (source.species.id !== 'acufrontw') forme = 'Acufront-W';
					break;
				case 'hail':
					if (source.species.id !== 'acufronti') forme = 'Acufront-I';
					break;
				case 'midnight':
					if (source.species.id !== 'acufrontz') forme = 'Acufront-Z';
					break;
				case 'bladerain':
						if (source.species.id !== 'acufronts') forme = 'Acufront-M';
						break;
				case 'acidrain':
							if (source.species.id !== 'acufrontp') forme = 'Acufront-P';
							break;
				default:
					if (source.species.id !== 'acufront') forme = 'Acufront';
					break;
				}
				if (source.isActive && forme) {
					source.formeChange(forme, this.effect, false, '[msg]');
				}
			}
		},
		onUpdate(pokemon) {
			if (pokemon.transformed) return;
			if (pokemon.baseSpecies.baseSpecies === 'Acufront') {
				let forme = null;
				switch (pokemon.effectiveWeather()) {
				case 'sunnyday':
				case 'desolateland':
					if (pokemon.species.id !== 'acufrontf') forme = 'Acufront-F';
					break;
				case 'raindance':
				case 'primordialsea':
					if (pokemon.species.id !== 'acufrontw') forme = 'Acufront-W';
					break;
				case 'hail':
					if (pokemon.species.id !== 'acufronti') forme = 'Acufront-I';
					break;
				case 'midnight':
					if (pokemon.species.id !== 'acufrontz') forme = 'Acufront-Z';
					break;
				case 'bladerain':
						if (pokemon.species.id !== 'acufronts') forme = 'Acufront-M';
						break;
				case 'acidrain':
							if (pokemon.species.id !== 'acufrontp') forme = 'Acufront-P';
							break;
				default:
					if (pokemon.species.id !== 'acufront') forme = 'Acufront';
					break;
				}
				if (pokemon.isActive && forme) {
					pokemon.formeChange(forme, this.effect, false, '[msg]');
				}
			}
		},
	},
	cacophony: {
		inherit: true,
		isNonstandard: null,
	},
	snowwarning: {
		inherit: true,
		onStart(source) {
			this.field.setWeather('hail');
		},
	},
	turbine: {
		inherit: true,
		onTryHit(target, source, move) {
			if (target !== source && move.type === 'Wind') {
				if (!this.boost({spa: 1})) {
					this.add('-immune', target, '[from] ability: Turbine');
				}
				return null;
			}
		},
		onAnyRedirectTarget(target, source, source2, move) {
			if (move.type !== 'Wind' || ['firepledge', 'grasspledge', 'waterpledge'].includes(move.id)) return;
			const redirectTarget = ['randomNormal', 'adjacentFoe'].includes(move.target) ? 'normal' : move.target;
			if (this.validTarget(this.effectState.target, source, redirectTarget)) {
				if (move.smartTarget) move.smartTarget = false;
				if (this.effectState.target !== target) {
					this.add('-activate', this.effectState.target, 'ability: Turbine');
				}
				return this.effectState.target;
			}
		},
		name: "Turbine",
		shortDesc: "Draws in all Wind-type moves to up Sp. Attack.",
		desc: "Draws in all Wind-type moves to up Sp. Attack.",
		isBreakable: true,
		isNonstandard: null,
	},
	constrictor: {
		inherit: true,
		onBasePowerPriority: 23,
		onBasePower(basePower, attacker, defender, move) {
			if (move.volatileStatus === 'partiallytrapped') {
				this.debug('Constrictor boost');
				return this.chainModify(1.3);
			}
		},
		name: "Constrictor",
		shortDesc: "Boosts the power of trapping moves.",
		desc: "Boosts the power of trapping moves.",
		isBreakable: false,
		isNonstandard: null,
	},
	breakdown: {/** Same as in data/abilities.ts */
		inherit: true,
		isNonstandard: null,
	},
	
	balance: {/** Same as in data/abilities.ts */
		inherit: true,
		shortDesc: "NVE moves are boosted, SE moves against the Pokemon are weakened.",
		desc: "This pokemon's not very effective moves are boosted and super effective moves against it are decreased.",
		isNonstandard: null,
	},
	detonator: {
		inherit: true,
		onModifyMove(move, pokemon, target) {
			if (move.selfdestruct) delete move.selfdestruct;
		},
		onAfterMove(source, target, move) {
			if (['explosion', 'mindblown', 'mistyexplosion', 'selfdestruct', 'holyduty', 'nuclearexplosion', 'doom', 'chillyboom', 'holysacrifice', 
				'carpetbomb', 'sacrifice','pastalavista', 'supernova', 'rottingburst', 'finalsting', 'fakeitembox', 'stella', 'poisonexplosion', 
			'computercrash', 'stinkymove', 'swansong', 'mutualdestruction', 'fieryexplosion', 'steambomb', 'testament', 'shatter',
		'restinpeace', 'sporeexplosion', 'voltexplosion'].includes(move.id)) {
				this.damage(source.baseMaxhp / 5, source, source);
			}
		},
		onBasePowerPriority: undefined,
		onBasePower(basePower, attacker, defender, move) {},
		name: "Detonator",
		shortDesc: "Explosion don't kill, 1/5 max HP recoil.",
		desc: "Explosion moves do not kill the user, just recoil.",
		isNonstandard: null,
	},
	infected: {
		inherit: true,
		shortDesc: "Dealing contact damage to this Pokemon spreads this Ability. Deals 1/8 dmg to non-Zombie and Virus types, otherwise heals 1/16 max hp.",
		desc: "Contact damage to this Pokemon spreads this Ability. Dmgs 1/8 non-Zombie and Virus types. Heals 1/16 otherwise.",
		isNonstandard: null,
	},
	/* Wack abilities */
	darklife: {
		inherit: true,
		isNonstandard: null,
	},
	memetic: {
		inherit: true,
		isNonstandard: null,
	},
	isolation: {
		inherit: true,
		isNonstandard: null,
	},
	acidcloudburst: {
		inherit: true,
		isNonstandard: null,
	},
	ethereal: {
		inherit: true,
		isNonstandard: null,
	},
	mozart: {
		inherit: true,
		isNonstandard: null,
	},
	pride: {
		inherit: true,
		isNonstandard: null,
	},
	pounce: {
		inherit: true,
		isNonstandard: null,
	},
	vespertine: {
		inherit: true,
		isNonstandard: null,
	},
	acidrush: {
		inherit: true,
		isNonstandard: null,
	},
	headache: {
		inherit: true,
		isNonstandard: null,
	},
	windate: {
		inherit: true,
		isNonstandard: null,
	},
	immolate: {
		inherit: true,
		isNonstandard: null,
	},
	sunbathe: {
		inherit: true,
		isNonstandard: null,
	},
	snowrush: {
		inherit: true,
		isNonstandard: null,
	},
	magicate: {
		inherit: true,
		isNonstandard: null,
	},
	oasis: {
		inherit: true,
		isNonstandard: null,
	},
	winterforce: {
		inherit: true,
		isNonstandard: null,
	},
	evaporate: {
		inherit: true,
		isNonstandard: null,
	},
	berserker: {
		inherit: true,
		isNonstandard: null,
	},
	martialate: {
		inherit: true,
		isNonstandard: null,
	},
	machinate: {
		inherit: true,
		isNonstandard: null,
	},
	furiousfeet: {
		inherit: true,
		isNonstandard: null,
	},
	thicktail: {
		inherit: true,
		isNonstandard: null,
	},
	skeptic: {
		inherit: true,
		isNonstandard: null,
	},
	coldblooded: {
		inherit: true,
		isNonstandard: null,
	},
	lodestone: {
		inherit: true,
		isNonstandard: null,
	},
	vaporize: {
		inherit: true,
		isNonstandard: null,
	},
	firewall: {
		inherit: true,
		isNonstandard: null,
	},
	focus: {
		inherit: true,
		isNonstandard: null,
	},
	shadowcall: {
		inherit: true,
		isNonstandard: null,
	},
	wacky: {
		inherit: true,
		isNonstandard: null,
	},
	hydrate: {
		inherit: true,
		isNonstandard: null,
	},
	sugarrush: {
		inherit: true,
		isNonstandard: null,
	},
	vacuum: {
		inherit: true,
		isNonstandard: null,
	},
	solarforce: {
		inherit: true,
		isNonstandard: null,
	},
	ionate: {
		inherit: true,
		isNonstandard: null,
	},
	graze: {
		inherit: true,
		isNonstandard: null,
	},
	pro: {
		inherit: true,
		isNonstandard: null,
	},
	builder: {
		inherit: true,
		isNonstandard: null,
	},
	siphon: {
		inherit: true,
		isNonstandard: null,
	},
	bellows: {
		inherit: true,
		isNonstandard: null,
	},
	sadist: {
		inherit: true,
		isNonstandard: null,
	},
	metalworker: {
		inherit: true,
		isNonstandard: null,
	},
	drumroll: {
		inherit: true,
		isNonstandard: null,
	},
	explosive: {
		inherit: true,
		isNonstandard: null,
	},
	dreamcatcher: {
		inherit: true,
		isNonstandard: null,
	},
	irradiated: {
		inherit: true,
		isNonstandard: null,
	},
	safeshield: {
		inherit: true,
		isNonstandard: null,
	},
	choicepower: {
		inherit: true,
		isNonstandard: null,
	},
	cactus: {
		inherit: true,
		isNonstandard: null,
	},
	vastknowledge: {
		inherit: true,
		isNonstandard: null,
	},
	neutral: {
		inherit: true,
		isNonstandard: null,
	},
	rubberboost: {
		inherit: true,
		isNonstandard: null,
	},
	activecurrent: {
		inherit: true,
		isNonstandard: null,
	},
	triggered: {
		inherit: true,
		isNonstandard: null,
	},
	glitchboost: {
		inherit: true,
		isNonstandard: null,
	},
	thunderstorm: {
		inherit: true,
		isNonstandard: null,
	},
	flytrap: {
		inherit: true,
		isNonstandard: null,
	},
	wishmaker: {
		inherit: true,
		isNonstandard: null,
	},
	burningdisease: {
		inherit: true,
		isNonstandard: null,
	},
	computerbug: {
		inherit: true,
		isNonstandard: null,
	},
	trashpile: {
		inherit: true,
		isNonstandard: null,
	},
	godsendurance: {
		inherit: true,
		isNonstandard: null,
	},
	souleater: {
		inherit: true,
		isNonstandard: null,
	},
	polite: {
		inherit: true,
		isNonstandard: null,
	},
};
